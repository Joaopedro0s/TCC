<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Contagem até 100</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f0f0f0;
    }

    #quiz-container {
      max-width: 500px;
      margin: 50px auto;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      text-align: center;
    }

    #progress {
      height: 20px;
      background-color: #ddd;
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 20px;
    }

    #progress-bar {
      height: 100%;
      width: 0%;
      background-color: #4CAF50;
    }

    .question {
      font-size: 22px;
      margin-bottom: 20px;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .option-btn {
      padding: 10px;
      font-size: 18px;
      border: 2px solid transparent;
      border-radius: 8px;
      background-color: #eee;
      cursor: pointer;
      transition: 0.3s;
    }

    .option-btn.selected {
      border-color: #2196F3;
      background-color: #d0e9ff;
    }

    .option-btn.wrong {
      background-color: #f44336 !important;
      color: white;
    }

    .option-btn.correct {
      background-color: #4CAF50 !important;
      color: white;
    }

    .action-btn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 18px;
      background-color: #2196F3;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    .hint {
      font-size: 14px;
      color: gray;
      margin-top: 10px;
    }

    .home-btn {
      margin-top: 10px;
      padding: 10px 20px;
      font-size: 18px;
      background-color: #FF5722;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div id="quiz-container">
  <div id="progress">
    <div id="progress-bar"></div>
  </div>
  <div id="question" class="question"></div>
  <div id="options" class="options"></div>
  <div id="actions"></div>
</div>

<script>
  const questions = [
    { q: "Quantos dedos temos nas duas mãos?", options: [10, 8, 12], answer: 10, hint: "Cada mão tem 5 dedos." },
    { q: "Quantos dias tem uma semana?", options: [5, 7, 10], answer: 7, hint: "Inclua o sábado e domingo!" },
    { q: "Quantos são 50 + 10?", options: [60, 70, 40], answer: 60, hint: "Use a contagem de dez em dez." },
    { q: "Qual o número que vem depois de 89?", options: [88, 90, 91], answer: 90, hint: "Depois de 89 vem 90." },
    { q: "Quantos pés uma centopeia tem?", options: [100, 50, 10], answer: 100, hint: "Cento = 100!" },
    { q: "Quantos lados tem um quadrado?", options: [4, 3, 5], answer: 4, hint: "Todos os lados são iguais!" },
    { q: "Quanto é 30 + 20?", options: [60, 50, 40], answer: 50, hint: "Trinta mais vinte." },
    { q: "Quantos olhos uma pessoa tem?", options: [2, 1, 3], answer: 2, hint: "Temos um par!" },
    { q: "Qual número é maior: 99 ou 100?", options: [100, 98, 99], answer: 100, hint: "100 é o maior número de dois dígitos!" },
    { q: "Quantos minutos tem uma hora?", options: [60, 100, 90], answer: 60, hint: "Cada hora tem 60 minutos." }
  ];

  let current = 0;
  let score = 0;
  let selectedAnswer = null;
  let wrongAnswers = [];

  const questionEl = document.getElementById("question");
  const optionsEl = document.getElementById("options");
  const actionsEl = document.getElementById("actions");
  const progressBar = document.getElementById("progress-bar");

  function loadQuestion() {
    selectedAnswer = null;
    const q = questions[current];
    questionEl.textContent = q.q;
    optionsEl.innerHTML = "";
    actionsEl.innerHTML = "";

    q.options.forEach(option => {
      const btn = document.createElement("button");
      btn.className = "option-btn";
      btn.textContent = option;
      btn.onclick = () => selectOption(btn, option);
      optionsEl.appendChild(btn);
    });

    updateProgress();
    showHomeButton();
  }

  function selectOption(btn, value) {
    selectedAnswer = value;
    document.querySelectorAll(".option-btn").forEach(b => b.classList.remove("selected"));
    btn.classList.add("selected");

    showSendButton();
  }

  function showSendButton() {
    actionsEl.innerHTML = "";
    const send = document.createElement("button");
    send.textContent = "Enviar resposta";
    send.className = "action-btn";
    send.onclick = checkAnswer;
    actionsEl.appendChild(send);
  }

  function checkAnswer() {
    const q = questions[current];
    const buttons = document.querySelectorAll(".option-btn");

    buttons.forEach(btn => {
      btn.disabled = true;
      if (parseInt(btn.textContent) === selectedAnswer) {
        if (selectedAnswer === q.answer) {
          btn.classList.add("correct");
          score++;
        } else {
          btn.classList.add("wrong");
          wrongAnswers.push({ ...q });
        }
      }
    });

    showNextButton();
  }

  function showNextButton() {
    actionsEl.innerHTML = "";
    const next = document.createElement("button");
    next.textContent = "Próxima";
    next.className = "action-btn";
    next.onclick = () => {
      current++;
      if (current < questions.length) {
        loadQuestion();
      } else {
        showResults();
      }
    };
    actionsEl.appendChild(next);
  }

  function showHomeButton() {
    actionsEl.innerHTML = "";
    const homeBtn = document.createElement("button");
    homeBtn.textContent = "Voltar para a tela inicial";
    homeBtn.className = "home-btn";
    homeBtn.onclick = () => {
  window.location.href = "../../index.html";  // Redireciona para a página index.html
};    actionsEl.appendChild(homeBtn);
  }

  function updateProgress() {
    const percent = (current / questions.length) * 100;
    progressBar.style.width = percent + "%";
  }

  function showResults() {
    questionEl.textContent = `Você acertou ${score} de ${questions.length} questões!`;
    optionsEl.innerHTML = "";
    actionsEl.innerHTML = "";

    if (wrongAnswers.length > 0) {
      const reviewBtn = document.createElement("button");
      reviewBtn.textContent = "Vamos revisar o que você errou!";
      reviewBtn.className = "action-btn";
      reviewBtn.onclick = () => {
        current = 0;
        reviewIndex = 0;
        showReviewQuestion();
      };
      actionsEl.appendChild(reviewBtn);
    }
  }

  // Revisão de erros
  let reviewIndex = 0;

  function showReviewQuestion() {
    if (reviewIndex < wrongAnswers.length) {
      const q = wrongAnswers[reviewIndex];
      questionEl.textContent = q.q;
      optionsEl.innerHTML = "";
      actionsEl.innerHTML = "";

      q.options.forEach(option => {
        const btn = document.createElement("button");
        btn.className = "option-btn";
        btn.textContent = option;
        btn.onclick = () => {
          document.querySelectorAll(".option-btn").forEach(b => b.classList.remove("selected"));
          btn.classList.add("selected");
          selectedAnswer = option;
          showReviewSendButton(q);
        };
        optionsEl.appendChild(btn);
      });

      const hint = document.createElement("div");
      hint.className = "hint";
      hint.textContent = "Dica: " + q.hint;
      optionsEl.appendChild(hint);
    } else {
      questionEl.textContent = "Revisão concluída! Parabéns!";
      optionsEl.innerHTML = "";
      actionsEl.innerHTML = "";
    }
  }

  function showReviewSendButton(q) {
    actionsEl.innerHTML = "";
    const send = document.createElement("button");
    send.textContent = "Enviar resposta";
    send.className = "action-btn";
    send.onclick = () => checkReviewAnswer(q);
    actionsEl.appendChild(send);
  }

  function checkReviewAnswer(q) {
    const buttons = document.querySelectorAll(".option-btn");

    buttons.forEach(btn => {
      btn.disabled = true;
      if (parseInt(btn.textContent) === selectedAnswer) {
        if (selectedAnswer === q.answer) {
          btn.classList.add("correct");
        } else {
          btn.classList.add("wrong");
        }
      }
    });

    const next = document.createElement("button");
    next.textContent = "Próxima";
    next.className = "action-btn";
    next.onclick = () => {
      reviewIndex++;
      showReviewQuestion();
    };
    actionsEl.innerHTML = "";
    actionsEl.appendChild(next);
  }

  loadQuestion();
</script>

</body>
</html>
